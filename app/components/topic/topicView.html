<div ng-controller="TopicController" class="col-lg-2 col-mg-2 col-sm-2 col-xs-2 topic-browser">

    <!-- Topic folder browser -->
    <!-- Iterates through the list of topics and display them as folders -->
    <div class="shadow-below editor-header">

        <!-- Title -->
        <div class="headline-box">
            <h4 class="selected-heading">Temaer:</h4>
        </div>

        <!-- Create new topic -->
        <p class="ten-pix-vertical-padding">
            <button type="button" ng-click="checkDocumentFormAndExecute()" class="btn btn-default">
                <span class="fa fa-plus-circle plus-icon"></span>
                Nytt tema
            </button>
        </p>
    </div>

    <!-- Display of all topics as folders -->
    <div class="topic-list">

        <!-- First layer -->
        <div ng-repeat="topic in topics | orderBy:getSequence">

            <!-- On click, get documents related to topic and open topic in content view -->
            <div ng-style="{'font-size': text.size + 'px'}" data-target=#topic{{topic.id}} id={{topic.id}}
                 data-toggle="collapse" ng-class="topic.id == selected_topic_id ? 'selected-item' : ''"
                 class="item-text"
                 ng-click="checkDocumentFormAndExecute(topic.id)">
                <span id=folder{{topic.id}} class="standard-icon fa fa-folder"> </span>
                {{topic.title}}
            </div>

            <!-- Second layer -->
            <div id=topic{{topic.id}} class="collapse">
                <div ng-repeat="subTopic in topic.children | orderBy:getSequence">

                    <!-- On click, get documents related to topic and open topic in content view -->
                    <div ng-style="{'font-size': text.size + 'px'}" data-target=#topic{{subTopic.id}} id={{subTopic.id}}
                       ng-class="subTopic.id == selected_topic_id ? 'selected-item' : ''" data-toggle="collapse"
                       class="item-text sub-topic" ng-click="checkDocumentFormAndExecute(subTopic.id)">
                        <span id=folder{{subTopic.id}} class="standard-icon fa fa-folder"> </span>
                        {{subTopic.title}}
                    </div>

                    <!-- Third layer -->
                    <div id=topic{{subTopic.id}} class="collapse">
                        <div ng-repeat="subsubTopic in subTopic.children | orderBy:getSequence">

                            <!-- On click, get documents related to topic and open topic in content view -->
                            <div ng-style="{'font-size': text.size + 'px'}" data-target="#topic{{subsubTopic.id}}"
                               id={{subsubTopic.id}} data-toggle="collapse"
                               ng-class="subsubTopic.id == selected_topic_id ? 'selected-item' : ''"
                               class="item-text sub-sub-topic"
                               ng-click="checkDocumentFormAndExecute(subsubTopic.id)">
                                <span id=folder{{subsubTopic.id}}
                                      class="standard-icon fa fa-folder"> </span>
                                {{subsubTopic.title}}
                            </div>

                            <!-- Fourth layer -->
                            <div id=topic{{subsubTopic.id}} class="collapse">
                                <div
                                     ng-repeat="subsubsubTopic in subsubTopic.children | orderBy:getSequence">

                                    <!-- On click, get documents related to topic and open topic in content view -->
                                    <div ng-style="{'font-size': text.size + 'px'}"
                                       data-target="#topic{{subsubsubTopic.id}}" id={{subsubsubTopic.id}}
                                       data-toggle="collapse"
                                       ng-class="subsubsubTopic.id == selected_topic_id ? 'selected-item' : ''"
                                       class="item-text sub-sub-sub-topic"
                                       ng-click="checkDocumentFormAndExecute(subsubsubTopic.id)">
                                        <span id=folder{{subsubsubTopic.id}}
                                              class="standard-icon fa fa-folder"> </span>
                                        {{subsubsubTopic.title}}
                                    </div>

                                    <!-- Fifth layer -->
                                    <div id=topic{{subsubsubTopic.id}} class="collapse">
                                        <div
                                             ng-repeat="subsubsubsubTopic in subsubsubTopic.children | orderBy:getSequence">

                                            <!-- On click, get documents related to topic and open topic in content view -->
                                            <div ng-style="{'font-size': text.size + 'px'}" id={{subsubsubsubTopic.id}}
                                               data-toggle="collapse"
                                               ng-class="subsubsubsubTopic.id == selected_topic_id ? 'selected-item' : ''"
                                               class="item-text sub-sub-sub-sub-topic"
                                               ng-click="checkDocumentFormAndExecute(subsubsubsubTopic.id)">
                                                <span id=folder{{subsubsubsubTopic.id}}
                                                      class="standard-icon fa fa-folder"> </span>
                                                {{subsubsubsubTopic.title}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>